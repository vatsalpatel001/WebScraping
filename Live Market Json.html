<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<table >
  <tbody id="demo"></tbody>
</table>
<script type="text/javascript">
  let count=0;


var i = 1097;                  //  set your counter to 1
myLoop(); 
function myLoop() {         //  create a loop function
  setTimeout(function() {   //  call a 3s setTimeout when the loop is called
    console.log('hello'); 




  let xmlhttp = new XMLHttpRequest();


 
xmlhttp.open(
  "GET",
  "https://ewmw.edelweiss.in/api/Market/Process/EquityDetailsMarket/"+i,
  true
);




if(xmlhttp){

xmlhttp.send(); 
}









     // for (i = 0; i < 6000; i++) {












xmlhttp.onreadystatechange = function () {
  if (this.readyState == 4 && this.status == 200) {
    // let data = JSON.parse(this.responseText).feed.entry;
    // let data = this.responseText;
    // let data =JSON.parse(JSON.stringify(JSON.parse(this.responseText)).replace(/(?:\\[rn])+/g, ""));
    let data =JSON.parse(JSON.parse(this.responseText));
if(data){
  // console.log(data)
  count++;
  console.log(count)
      document.getElementById("demo").innerHTML +=data.JsonData.Symbol+"-"+data.JsonData.companyMarketPrice[0].CompanyCode+",";

}
else{
  return;
}
   

  }
};

      //  your code here
    i++;                    //  increment the counter
    if (i < 1098) {           //  if the counter < 10, call the loop function
      myLoop();             //  ..  again which will trigger another 
    }                       //  ..  setTimeout()
  }, 100)

    }




</script>
</body>
</html>